#:kivy 1.0.9
#:import utils kivy.utils

#:set superbright utils.get_color_from_hex("#ffffff")
#:set bright utils.get_color_from_hex("#787878")
#:set dark utils.get_color_from_hex("#121212")
#:set background utils.get_color_from_hex("#3B3B3B")
#:set lightbackground  utils.get_color_from_hex("#2E2E2E")
#:set buttonbackground utils.get_color_from_hex("#aaaaaa")


<Widget>:
    canvas.after:
        Line:
            rectangle: self.x+1,self.y+1,self.width-1,self.height-1
            dash_offset: 5
            dash_length: 3

<BaseWidget>:
    canvas.before:
        Color:
            rgb: dark
        Rectangle:
            size: self.size
            pos: self.pos

<BaseWidget1>:
    canvas.before:
        Color:
            rgb: lightbackground
        Rectangle:
            size: self.size
            pos: self.pos


<LoginPage>:
    TextInput:
        hint_text: 'Username'
        font_size: 16
        pos: ((root.width - self.width) / 2), ((root.height - self.height) / 2) + 2*root.height /8
        width: 0.9 * root.width
        height: 30
        background_color: background
        foreground_color: superbright
        hint_text_color: bright

    GridLayout:
        cols: 2
        rows: 2
        width: 0.6 * root.width
        pos: ((root.width - self.width) / 2) - root.width/8, ((root.height - self.height) / 2) + root.height / 8
    
        CheckBox:
            id: licence
            size_hint_x: root.width * 0.08

        Label:
            text: " I accept this license agreement."
            halign:'left'
            valign:'middle'
            size_hint_x: root.width * 0.9
            text_size: self.size

        CheckBox:
            id: terms
            size_hint_x: root.width * 0.08

        Label:
            text: " I accept these terms of use."
            halign:'left'
            valign:'middle'
            size_hint_x: root.width * 0.9
            text_size: self.size

    Button:
        text: "Sign up"
        pos: ((root.width - self.width) / 2), ((root.height - self.height) / 2) - root.height /8
        width: 0.9 * root.width
        height: 30
        color: superbright
        background_color: buttonbackground
        hint_text_color: bright
        border_width: 0

    Button:
        text: "Import account"
        pos: ((root.width - self.width) / 2), ((root.height - self.height) / 2) -2* root.height /8
        width: 0.9 * root.width
        height: 30
        color: superbright
        background_color: buttonbackground
        hint_text_color: bright
        border_width: 0



<User>:
    size_hint: 1, None
    BoxLayout:
        orientation: "horizontal"
        width: self.parent.sqrt(root.width) * 0.95
        size_hint: 1, 1
        pos: (self.parent.sqrt(root.width) - self.width) / 2, self.parent.pos[1]
        spacing: 10
        height: self.parent.height

        Image:
            source: self.parent.parent.img
            size_hint: .7, .99
            width: self.parent.width * 0.2

        Label:
            font_size: 25
            text: self.parent.parent.username
            size_hint_x: 2.5
            halign:'left'
            valign:'middle'
            text_size: self.size
            spacing: 10

        Label:
            _tmp: [self.parent.parent.userid[x:x+2] for x in range(0, 12, 2)] #  "00 00 00\n00 00 00"
            text: " ".join(self._tmp[0:3]) + "\n" + " ".join(self._tmp[3:6])
            size_hint_x: .9


<UsersPage>:
    size_hint: 1, 1
    pos: 0, 0


    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height


        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, .1
            padding: 5
            spacing: self.width/100

            Image:
                source: self.parent.parent.parent.user.img
                size_hint: .2, 1
                allow_stretch: True

            Label:
                font_size: 25
                text: self.parent.parent.parent.user.username
                halign:'left'
                valign:'middle'
                text_size: self.size

            Button:
                background_color: 0,0,0,0
                size_hint_x: .1
                Image:
                    source: "app/images/search.png"
                    size: self.parent.width, self.parent.height
                    center: self.parent.center_x, self.parent.center_y
                    allow_stretch: True
            Widget:
                size_hint: 0.01, 1
            Button:
                background_color: 0,0,0,0
                size_hint_x: .1
                Image:
                    source: "app/images/shaire.png"
                    size: self.parent.width, self.parent.height
                    center: self.parent.center_x, self.parent.center_y
                    allow_stretch: True
            
        BaseWidget:
            size_hint: 1, .002
            height: 5
        
        BaseWidget1:
            size_hint: 1, .002
            height: 5

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            size: root.width, root.height

            StackLayout:
                orientation: "tb-lr"
                size_hint: root.width, (1.5/8) * len(self.children) - 0.2
                size: root.width, root.height
                spacing: 2